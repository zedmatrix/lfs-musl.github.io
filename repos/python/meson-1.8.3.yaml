package:
    name: meson
    version: 1.8.3
    rel: 1
    archive: false
    delete: true

sources:
    - url: https://github.com/mesonbuild/meson/releases/download/1.8.3/meson-1.8.3.tar.gz
      md5: 08221d2f515e759686f666ff6409a903
      sha256: f118aa910fc0a137cc2dd0122232dbf82153d9a12fb5b0f5bb64896f6a157abf

build: |
    pip3 wheel -w dist --no-cache-dir --no-build-isolation --no-deps $PWD

install: |
    pip3 install --no-index --find-links dist meson

final: |
    install -vDm644 data/shell-completions/bash/meson /usr/share/bash-completion/completions/meson &&
    install -vDm644 data/shell-completions/zsh/_meson /usr/share/zsh/site-functions/_meson

required:
    - ninja
