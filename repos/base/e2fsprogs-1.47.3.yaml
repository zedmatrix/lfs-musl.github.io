package:
    name: e2fsprogs
    version: 1.47.3
    rel: 1
    archive: false
    delete: true

sources:
    - url: https://downloads.sourceforge.net/project/e2fsprogs/e2fsprogs/v1.47.3/e2fsprogs-1.47.3.tar.gz
      md5: 113d7a7ee0710d2a670a44692a35fd2e
      sha256: 2f5164e64dd7d91eadd1e0e8a77d92c06dd7837bb19f1d9189ce1939b363d2b4

build: |
    mkdir -v Ybuild && cd Ybuild && ../configure --prefix=/usr --sysconfdir=/etc \
    --enable-elf-shlibs --disable-libblkid --disable-libuuid --disable-uuidd --disable-fsck &&
    make

check: |
    cd Ybuild && make check

install: |
    cd Ybuild && make install

final: |
    cd Ybuild &&
    gunzip -v /usr/share/info/libext2fs.info.gz &&
    install-info --dir-file=/usr/share/info/dir /usr/share/info/libext2fs.info &&
    makeinfo -o doc/com_err.info ../lib/et/com_err.texinfo &&
    install -v -m644 doc/com_err.info /usr/share/info &&
    install-info --dir-file=/usr/share/info/dir /usr/share/info/com_err.info

required:
    - util-linux
