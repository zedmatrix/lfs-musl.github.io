package:
    name: sqlite
    version: 3.50.4
    rel: 1
    archive: false
    delete: true

sources:
    - url: https://sqlite.org/2025/sqlite-autoconf-3500400.tar.gz
      md5: d74bbdca4ab1b2bd46d3b3f8dbb0f3db
      sha256:
    - url: https://anduin.linuxfromscratch.org/LFS/sqlite-doc-3500400.tar.xz
      md5: 63a62af5b35913459954e6e66876f2b8
      sha256:

prepare: |
    ./configure --prefix=/usr --disable-static --enable-fts{4,5} \
        CPPFLAGS="-D SQLITE_ENABLE_COLUMN_METADATA=1 -D SQLITE_ENABLE_UNLOCK_NOTIFY=1 \
                -D SQLITE_ENABLE_DBSTAT_VTAB=1 -D SQLITE_SECURE_DELETE=1"

build: |
    make

install: |
    make install

final: |
    tar -xf ${YSRC}/sqlite-doc-3500400.tar.xz &&
    install -v -m755 -d /usr/share/doc/sqlite-3.50.4;
    cp -v -R sqlite-doc-3500400/* /usr/share/doc/sqlite-3.50.4

required:
    - libffi
