package:
    name: gawk
    version: 5.3.2
    rel: 1
    archive: false
    delete: true

sources:
    - url: https://mirror.csclub.uwaterloo.ca/gnu/gawk/gawk-5.3.2.tar.xz
      md5: b7014650c5f45e5d4837c31209dc0037
      sha256: f8c3486509de705192138b00ef2c00bbbdd0e84c30d5c07d23fc73a9dc4cc9cc

prepare: |
    sed -i 's/extras//' Makefile.in

build: |
    ./configure --prefix=/usr &&
    make

install: |
    rm -f /usr/bin/gawk-5.3.2 &&
    make install

final: |
    ln -sv gawk.1 /usr/share/man/man1/awk.1 &&
    install -vDm644 doc/{awkforai.txt,*.{eps,pdf,jpg}} -t /usr/share/doc/gawk-5.3.2

required:
    - diffutils
