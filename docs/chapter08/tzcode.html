<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="../ymusl-lfs.css" />
    <title>8.5.2.2 - tzcode - 2025a</title>
  </head>
  <body class="ylfs" id="lfs-r1.0-1-musl-sysv-mdev">
  <div class="header">
    <div class="section">
      <h2>Linux From Scratch - musl</h2>
        <h3>Version r1.0-1-sysv-mdev</h3>
        <h3>8.5.2.2 - tzcode - 2025a - Adding Time Zone Data</h3>
    </div>
  </div>

  <div class="section">
    <div class="padbox">
      <h4>Sources</h4>    <p>
Download URL: <a href="https://data.iana.org/time-zones/releases/tzcode2025a.tar.gz">https://data.iana.org/time-zones/releases/tzcode2025a.tar.gz</a><br>
SHA256 Sum: <code>119679d59f76481eb5e03d3d2a47d7870d592f3999549af189dbd31f2ebf5061</code><br>
MD5 Sum: <code>c690058bd8c597041241e9edc870e127</code><br>
<br>
Download URL: <a href="https://www.iana.org/time-zones/repository/releases/tzdata2025b.tar.gz">https://www.iana.org/time-zones/repository/releases/tzdata2025b.tar.gz</a><br>
SHA256 Sum: <code>11810413345fc7805017e27ea9fa4885fd74cd61b2911711ad038f5d28d71474</code><br>
MD5 Sum: <code>ad65154c48c74a9b311fe84778c5434f</code><br>
<br>
    </p>
  </div>
</div>
<div class="section">Extract the tzdata into the tzcode directory:<pre class="prepare">tar xf ${YSRC}/tzdata2025b.tar.gz</pre></div>

<div class="section">Build only the necessary packages:<pre class="build">make CC=gcc zic zdump tzselect</pre></div>

<div class="section">Only Install what we need:<pre class="install">install -m755 zic /usr/bin
install -m755 zdump /usr/bin
install -m755 tzselect /usr/bin</pre></div>

<div class="section">Prepare the tzdata:<pre class="final">mkdir -pv /usr/share/zoneinfo/{posix,right} &amp;&amp;
for tz in etcetera southamerica northamerica europe africa antarctica  \
      asia australasia backward; do
zic -L /dev/null   -d /usr/share/zoneinfo ${tz} &amp;&amp;
zic -L /dev/null   -d /usr/share/zoneinfo/posix ${tz} &amp;&amp;
zic -L leapseconds -d /usr/share/zoneinfo/right ${tz}
done &amp;&amp;
cp -v zone.tab zone1970.tab iso3166.tab /usr/share/zoneinfo &amp;&amp;
zic -d /usr/share/zoneinfo -p America/New_York;
ln -sfv /usr/share/zoneinfo/Canada/Pacific /etc/localtime</pre>
</div>


  </body>
</html>
