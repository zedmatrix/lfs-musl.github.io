<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="../ymusl-lfs.css" />
    <title>Musl Environment - 2025</title>
  </head>
  <body class="ylfs" id="lfs-r1.0-1-musl-sysv-mdev">
<div class="header">
  <div class="section">
    <h2>Linux From Scratch - musl</h2>
        <h3>Version r1.0-1-sysv-mdev</h3>
    <h3>Musl Environment - 2025</h3>
    <p class="info">Prepare the environment for building musl.</p>
  </div>
</div>

<div class="section">
  <div class="padbox">
    <h4>Environment Setup</h4><p>If you create a new instance of non-login shell, which does not read, and execute,
    the contents of the /etc/profile or .bash_profile files, but rather reads, and executes, the .bashrc file instead.
    Create the .bashrc file now:<br>
    </p>
  </div>
</div>

<div class="section">Make sure this environment is sourced:<pre class="bash">cat &gt; ~/.bashrc &lt;&lt; "EOF"
#!/bin/bash

set +h
umask 022
LFS=/mnt/ylfs
LC_ALL=POSIX
LFS_TGT=$(uname -m)-ylfs-linux-musl
SRC_REPO=$LFS/ybuild/repos

PATH=/usr/bin
if [ ! -L /bin ]; then PATH=/bin:$PATH; fi
PATH=$LFS/tools/bin:$PATH
CONFIG_SITE=$LFS/usr/share/config.site
export CFLAGS="-Os -pipe"
export CXXFLAGS="$CFLAGS"

export MAKEFLAGS=-j$(nproc)
export LFS LC_ALL LFS_TGT PATH CONFIG_SITE SOURCES

alias EXEC='chmod -v +x'
EOF</pre>The last is just a simple alias to turn new scripts created on the command line into executable.</div>

<div class="section">
  <div class="padbox">
  <p>I just manually created a <span class="command"><strong>0-environment.sh</strong></span> and sourced it like
  <span class="command"><strong>source 0-environment.sh</strong></span>
  </p>
  </div>
</div>


</body></html>
